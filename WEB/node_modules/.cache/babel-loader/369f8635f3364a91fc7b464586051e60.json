{"remainingRequest":"D:\\Projects\\Project_QLQ_DHXSKD\\WEB\\node_modules\\babel-loader\\lib\\index.js!D:\\Projects\\Project_QLQ_DHXSKD\\WEB\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Projects\\Project_QLQ_DHXSKD\\WEB\\src\\store\\modules\\auth.js","dependencies":[{"path":"D:\\Projects\\Project_QLQ_DHXSKD\\WEB\\src\\store\\modules\\auth.js","mtime":1606729964833},{"path":"D:\\Projects\\Project_QLQ_DHXSKD\\WEB\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606729949731},{"path":"D:\\Projects\\Project_QLQ_DHXSKD\\WEB\\node_modules\\babel-loader\\lib\\index.js","mtime":1606729948613},{"path":"D:\\Projects\\Project_QLQ_DHXSKD\\WEB\\node_modules\\eslint-loader\\index.js","mtime":1606729953148}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovUHJvamVjdHMvUHJvamVjdF9RTFFfREhYU0tEL1dFQi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7IC8vIGltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwoKdmFyIHN0YXRlID0gewogIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWNjZXNzX3Rva2VuIikgfHwgbnVsbCwKICB1c2VyOiBudWxsLAogIGxvZ2dlZEluOiBmYWxzZQp9Owp2YXIgZ2V0dGVycyA9IHsKICBsb2dnZWRJbjogZnVuY3Rpb24gbG9nZ2VkSW4oc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS50b2tlbiAhPT0gbnVsbDsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGNoZWNrTG9naW46IGZ1bmN0aW9uIGNoZWNrTG9naW4oY29udGV4dCwgdXNlcikgewogICAgYXhpb3MucG9zdCgibmd1b2lkdW5nL2xvZ2luIiwgewogICAgICBtYV9ORDogdXNlci51c2VybmFtZSwKICAgICAgTWF0a2hhdTogdXNlci5wYXNzd29yZAogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgdmFyIHRva2VuID0gcmVzcG9uc2UuZGF0YS5yZXN1bHQudG9rZW47CiAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5kYXRhLnJlc3VsdDsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImFjY2Vzc190b2tlbiIsIHRva2VuKTsKICAgICAgY29udGV4dC5jb21taXQoInJldHJpZXZlVG9rZSIsIHRva2VuKTsKICAgICAgY29udGV4dC5jb21taXQoInJldHJpZXZlUmVzdWx0IiwgcmVzdWx0KTsgLy8gcm91dGVyLnB1c2goJy9ob21lJykKICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0pOwogIH0sCiAgZGVzdHJveVRva2VuOiBmdW5jdGlvbiBkZXN0cm95VG9rZW4oY29udGV4dCkgewogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImFjY2Vzc190b2tlbiIpOwogICAgY29udGV4dC5jb21taXQoImRlc3Ryb3lUb2tlbiIpOwogIH0sCiAgTG9nSW46IGZ1bmN0aW9uIExvZ0luKF9yZWYsIHVzZXIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBjb21taXQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgibmd1b2lkdW5nL2xvZ2luIiwgewogICAgICAgICAgICAgICAgbWFfTkQ6IHVzZXIudXNlcm5hbWUsCiAgICAgICAgICAgICAgICBNYXRraGF1OiB1c2VyLnBhc3N3b3JkCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIGNvbW1pdCgic2V0VXNlciIsIHVzZXIuZ2V0KCJ1c2VybmFtZSIpKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIENyZWF0ZVBvc3Q6IGZ1bmN0aW9uIENyZWF0ZVBvc3QoX3JlZjIsIHBvc3QpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgZGlzcGF0Y2g7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMi5kaXNwYXRjaDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoInBvc3QiLCBwb3N0KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCJHZXRQb3N0cyIpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDIuc2VudCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIEdldFBvc3RzOiBmdW5jdGlvbiBHZXRQb3N0cyhfcmVmMykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBjb21taXQsIHJlc3BvbnNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgicG9zdHMiKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgIGNvbW1pdCgic2V0UG9zdHMiLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0sCiAgTG9nT3V0OiBmdW5jdGlvbiBMb2dPdXQoX3JlZjQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICB2YXIgY29tbWl0LCB1c2VyOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgICAgICAgICB1c2VyID0gbnVsbDsKICAgICAgICAgICAgICBjb21taXQoImxvZ291dCIsIHVzZXIpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpKCk7CiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIHNldFVzZXI6IGZ1bmN0aW9uIHNldFVzZXIoc3RhdGUsIHVzZXJuYW1lKSB7CiAgICBzdGF0ZS51c2VyID0gdXNlcm5hbWU7CiAgfSwKICBzZXRQb3N0czogZnVuY3Rpb24gc2V0UG9zdHMoc3RhdGUsIHBvc3RzKSB7CiAgICBzdGF0ZS5wb3N0cyA9IHBvc3RzOwogIH0sCiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RhdGUsIHVzZXIpIHsKICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogIH0sCiAgcmV0cmlldmVUb2tlOiBmdW5jdGlvbiByZXRyaWV2ZVRva2Uoc3RhdGUsIHRva2VuKSB7CiAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogIH0sCiAgZGVzdHJveVRva2VuOiBmdW5jdGlvbiBkZXN0cm95VG9rZW4oc3RhdGUpIHsKICAgIHN0YXRlLnRva2VuID0gbnVsbDsKICAgIHN0YXRlLnVzZXIgPSBudWxsOwogIH0sCiAgcmV0cmlldmVSZXN1bHQ6IGZ1bmN0aW9uIHJldHJpZXZlUmVzdWx0KHN0YXRlLCByZXN1bHQpIHsKICAgIHN0YXRlLnVzZXIgPSByZXN1bHQ7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["D:/Projects/Project_QLQ_DHXSKD/WEB/src/store/modules/auth.js"],"names":["axios","state","token","localStorage","getItem","user","loggedIn","getters","actions","checkLogin","context","post","ma_ND","username","Matkhau","password","then","response","data","result","setItem","commit","error","console","log","destroyToken","removeItem","LogIn","get","CreatePost","dispatch","GetPosts","LogOut","mutations","setUser","setPosts","posts","logout","retrieveToke","retrieveResult"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\n// import router from '@/router';\r\n\r\nconst state = {\r\n  token: localStorage.getItem(\"access_token\") || null,\r\n  user: null,\r\n  loggedIn:false,\r\n};\r\n\r\nconst getters = {\r\n  loggedIn(state) {\r\n    return state.token !== null;\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  checkLogin(context, user) {\r\n    axios\r\n      .post(\"nguoidung/login\", {\r\n        ma_ND: user.username,\r\n        Matkhau: user.password,\r\n      })\r\n      .then((response) => {\r\n        const token = response.data.result.token;\r\n        const result = response.data.result;\r\n        localStorage.setItem(\"access_token\", token);\r\n        context.commit(\"retrieveToke\", token);\r\n        context.commit(\"retrieveResult\", result);\r\n        // router.push('/home')\r\n        // console.log(response);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  },\r\n  destroyToken(context) {\r\n    localStorage.removeItem(\"access_token\");\r\n    context.commit(\"destroyToken\");\r\n  },\r\n\r\n  async LogIn({ commit }, user) {\r\n    await axios.post(\"nguoidung/login\", {\r\n      ma_ND: user.username,\r\n      Matkhau: user.password,\r\n    });\r\n    await commit(\"setUser\", user.get(\"username\"));\r\n  },\r\n\r\n  async CreatePost({ dispatch }, post) {\r\n    await axios.post(\"post\", post);\r\n    return await dispatch(\"GetPosts\");\r\n  },\r\n\r\n  async GetPosts({ commit }) {\r\n    let response = await axios.get(\"posts\");\r\n    commit(\"setPosts\", response.data);\r\n  },\r\n\r\n  async LogOut({ commit }) {\r\n    let user = null;\r\n    commit(\"logout\", user);\r\n  },\r\n};\r\n\r\nconst mutations = {\r\n  setUser(state, username) {\r\n    state.user = username;\r\n  },\r\n\r\n  setPosts(state, posts) {\r\n    state.posts = posts;\r\n  },\r\n  logout(state, user) {\r\n    state.user = user;\r\n  },\r\n  retrieveToke(state, token) {\r\n    state.token = token;\r\n  },\r\n  destroyToken(state) {\r\n    state.token = null;\r\n    state.user = null;\r\n  },\r\n  retrieveResult(state, result) {\r\n    state.user = result;\r\n  },\r\n};\r\n\r\nexport default {\r\n  state,\r\n  getters,\r\n  actions,\r\n  mutations,\r\n};\r\n"]}]}