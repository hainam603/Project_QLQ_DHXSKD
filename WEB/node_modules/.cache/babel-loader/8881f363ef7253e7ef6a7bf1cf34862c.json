{"remainingRequest":"E:\\Github\\Project_QLQ_DHXSKD\\WEB\\node_modules\\babel-loader\\lib\\index.js!E:\\Github\\Project_QLQ_DHXSKD\\WEB\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\Github\\Project_QLQ_DHXSKD\\WEB\\src\\store\\modules\\auth.js","dependencies":[{"path":"E:\\Github\\Project_QLQ_DHXSKD\\WEB\\src\\store\\modules\\auth.js","mtime":1606397244778},{"path":"E:\\Github\\Project_QLQ_DHXSKD\\WEB\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606397240015},{"path":"E:\\Github\\Project_QLQ_DHXSKD\\WEB\\node_modules\\babel-loader\\lib\\index.js","mtime":1606397239712},{"path":"E:\\Github\\Project_QLQ_DHXSKD\\WEB\\node_modules\\eslint-loader\\index.js","mtime":1606397241088}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRTovR2l0aHViL1Byb2plY3RfUUxRX0RIWFNLRC9XRUIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOyAvLyBpbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJzsKCnZhciBzdGF0ZSA9IHsKICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFjY2Vzc190b2tlbiIpIHx8IG51bGwsCiAgdXNlcjogbnVsbCwKICBsb2dnZWRJbjogZmFsc2UKfTsKdmFyIGdldHRlcnMgPSB7CiAgbG9nZ2VkSW46IGZ1bmN0aW9uIGxvZ2dlZEluKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudG9rZW4gIT09IG51bGw7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBjaGVja0xvZ2luOiBmdW5jdGlvbiBjaGVja0xvZ2luKGNvbnRleHQsIHVzZXIpIHsKICAgIGF4aW9zLnBvc3QoIm5ndW9pZHVuZy9sb2dpbiIsIHsKICAgICAgbWFfTkQ6IHVzZXIudXNlcm5hbWUsCiAgICAgIE1hdGtoYXU6IHVzZXIucGFzc3dvcmQKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHZhciB0b2tlbiA9IHJlc3BvbnNlLmRhdGEucmVzdWx0LnRva2VuOwogICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuZGF0YS5yZXN1bHQ7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJhY2Nlc3NfdG9rZW4iLCB0b2tlbik7CiAgICAgIGNvbnRleHQuY29tbWl0KCJyZXRyaWV2ZVRva2UiLCB0b2tlbik7CiAgICAgIGNvbnRleHQuY29tbWl0KCJyZXRyaWV2ZVJlc3VsdCIsIHJlc3VsdCk7IC8vIHJvdXRlci5wdXNoKCcvaG9tZScpCiAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICB9KTsKICB9LAogIGRlc3Ryb3lUb2tlbjogZnVuY3Rpb24gZGVzdHJveVRva2VuKGNvbnRleHQpIHsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJhY2Nlc3NfdG9rZW4iKTsKICAgIGNvbnRleHQuY29tbWl0KCJkZXN0cm95VG9rZW4iKTsKICB9LAogIExvZ0luOiBmdW5jdGlvbiBMb2dJbihfcmVmLCB1c2VyKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29tbWl0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoIm5ndW9pZHVuZy9sb2dpbiIsIHsKICAgICAgICAgICAgICAgIG1hX05EOiB1c2VyLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgTWF0a2hhdTogdXNlci5wYXNzd29yZAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBjb21taXQoInNldFVzZXIiLCB1c2VyLmdldCgidXNlcm5hbWUiKSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBDcmVhdGVQb3N0OiBmdW5jdGlvbiBDcmVhdGVQb3N0KF9yZWYyLCBwb3N0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGRpc3BhdGNoOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjIuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCJwb3N0IiwgcG9zdCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgiR2V0UG9zdHMiKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyLnNlbnQpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKICBHZXRQb3N0czogZnVuY3Rpb24gR2V0UG9zdHMoX3JlZjMpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgY29tbWl0LCByZXNwb25zZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoInBvc3RzIik7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBjb21taXQoInNldFBvc3RzIiwgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkoKTsKICB9LAogIExvZ091dDogZnVuY3Rpb24gTG9nT3V0KF9yZWY0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgdmFyIGNvbW1pdCwgdXNlcjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgICAgICAgICAgdXNlciA9IG51bGw7CiAgICAgICAgICAgICAgY29tbWl0KCJsb2dvdXQiLCB1c2VyKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU0KTsKICAgIH0pKSgpOwogIH0KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBzZXRVc2VyOiBmdW5jdGlvbiBzZXRVc2VyKHN0YXRlLCB1c2VybmFtZSkgewogICAgc3RhdGUudXNlciA9IHVzZXJuYW1lOwogIH0sCiAgc2V0UG9zdHM6IGZ1bmN0aW9uIHNldFBvc3RzKHN0YXRlLCBwb3N0cykgewogICAgc3RhdGUucG9zdHMgPSBwb3N0czsKICB9LAogIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KHN0YXRlLCB1c2VyKSB7CiAgICBzdGF0ZS51c2VyID0gdXNlcjsKICB9LAogIHJldHJpZXZlVG9rZTogZnVuY3Rpb24gcmV0cmlldmVUb2tlKHN0YXRlLCB0b2tlbikgewogICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICB9LAogIGRlc3Ryb3lUb2tlbjogZnVuY3Rpb24gZGVzdHJveVRva2VuKHN0YXRlKSB7CiAgICBzdGF0ZS50b2tlbiA9IG51bGw7CiAgICBzdGF0ZS51c2VyID0gbnVsbDsKICB9LAogIHJldHJpZXZlUmVzdWx0OiBmdW5jdGlvbiByZXRyaWV2ZVJlc3VsdChzdGF0ZSwgcmVzdWx0KSB7CiAgICBzdGF0ZS51c2VyID0gcmVzdWx0OwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["E:/Github/Project_QLQ_DHXSKD/WEB/src/store/modules/auth.js"],"names":["axios","state","token","localStorage","getItem","user","loggedIn","getters","actions","checkLogin","context","post","ma_ND","username","Matkhau","password","then","response","data","result","setItem","commit","error","console","log","destroyToken","removeItem","LogIn","get","CreatePost","dispatch","GetPosts","LogOut","mutations","setUser","setPosts","posts","logout","retrieveToke","retrieveResult"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\n// import router from '@/router';\r\n\r\nconst state = {\r\n  token: localStorage.getItem(\"access_token\") || null,\r\n  user: null,\r\n  loggedIn:false,\r\n};\r\n\r\nconst getters = {\r\n  loggedIn(state) {\r\n    return state.token !== null;\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  checkLogin(context, user) {\r\n    axios\r\n      .post(\"nguoidung/login\", {\r\n        ma_ND: user.username,\r\n        Matkhau: user.password,\r\n      })\r\n      .then((response) => {\r\n        const token = response.data.result.token;\r\n        const result = response.data.result;\r\n        localStorage.setItem(\"access_token\", token);\r\n        context.commit(\"retrieveToke\", token);\r\n        context.commit(\"retrieveResult\", result);\r\n        // router.push('/home')\r\n        // console.log(response);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  },\r\n  destroyToken(context) {\r\n    localStorage.removeItem(\"access_token\");\r\n    context.commit(\"destroyToken\");\r\n  },\r\n\r\n  async LogIn({ commit }, user) {\r\n    await axios.post(\"nguoidung/login\", {\r\n      ma_ND: user.username,\r\n      Matkhau: user.password,\r\n    });\r\n    await commit(\"setUser\", user.get(\"username\"));\r\n  },\r\n\r\n  async CreatePost({ dispatch }, post) {\r\n    await axios.post(\"post\", post);\r\n    return await dispatch(\"GetPosts\");\r\n  },\r\n\r\n  async GetPosts({ commit }) {\r\n    let response = await axios.get(\"posts\");\r\n    commit(\"setPosts\", response.data);\r\n  },\r\n\r\n  async LogOut({ commit }) {\r\n    let user = null;\r\n    commit(\"logout\", user);\r\n  },\r\n};\r\n\r\nconst mutations = {\r\n  setUser(state, username) {\r\n    state.user = username;\r\n  },\r\n\r\n  setPosts(state, posts) {\r\n    state.posts = posts;\r\n  },\r\n  logout(state, user) {\r\n    state.user = user;\r\n  },\r\n  retrieveToke(state, token) {\r\n    state.token = token;\r\n  },\r\n  destroyToken(state) {\r\n    state.token = null;\r\n    state.user = null;\r\n  },\r\n  retrieveResult(state, result) {\r\n    state.user = result;\r\n  },\r\n};\r\n\r\nexport default {\r\n  state,\r\n  getters,\r\n  actions,\r\n  mutations,\r\n};\r\n"]}]}