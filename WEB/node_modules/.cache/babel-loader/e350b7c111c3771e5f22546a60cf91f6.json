{"remainingRequest":"D:\\Projects\\example\\template01\\node_modules\\babel-loader\\lib\\index.js!D:\\Projects\\example\\template01\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Projects\\example\\template01\\src\\store\\modules\\auth.js","dependencies":[{"path":"D:\\Projects\\example\\template01\\src\\store\\modules\\auth.js","mtime":1605580462606},{"path":"D:\\Projects\\example\\template01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Projects\\example\\template01\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Projects\\example\\template01\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovUHJvamVjdHMvZXhhbXBsZS90ZW1wbGF0ZTAxL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsgLy8gaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7Cgp2YXIgc3RhdGUgPSB7CiAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhY2Nlc3NfdG9rZW4iKSB8fCBudWxsLAogIHVzZXI6IG51bGwsCiAgbG9nZ2VkSW46IGZhbHNlCn07CnZhciBnZXR0ZXJzID0gewogIGxvZ2dlZEluOiBmdW5jdGlvbiBsb2dnZWRJbihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnRva2VuICE9PSBudWxsOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgY2hlY2tMb2dpbjogZnVuY3Rpb24gY2hlY2tMb2dpbihjb250ZXh0LCB1c2VyKSB7CiAgICBheGlvcy5wb3N0KCJuZ3VvaWR1bmcvbG9naW4iLCB7CiAgICAgIG1hX05EOiB1c2VyLnVzZXJuYW1lLAogICAgICBNYXRraGF1OiB1c2VyLnBhc3N3b3JkCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICB2YXIgdG9rZW4gPSByZXNwb25zZS5kYXRhLnJlc3VsdC50b2tlbjsKICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0OwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiYWNjZXNzX3Rva2VuIiwgdG9rZW4pOwogICAgICBjb250ZXh0LmNvbW1pdCgicmV0cmlldmVUb2tlIiwgdG9rZW4pOwogICAgICBjb250ZXh0LmNvbW1pdCgicmV0cmlldmVSZXN1bHQiLCByZXN1bHQpOyAvLyByb3V0ZXIucHVzaCgnL2hvbWUnKQogICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgfSk7CiAgfSwKICBkZXN0cm95VG9rZW46IGZ1bmN0aW9uIGRlc3Ryb3lUb2tlbihjb250ZXh0KSB7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiYWNjZXNzX3Rva2VuIik7CiAgICBjb250ZXh0LmNvbW1pdCgiZGVzdHJveVRva2VuIik7CiAgfSwKICBMb2dJbjogZnVuY3Rpb24gTG9nSW4oX3JlZiwgdXNlcikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGNvbW1pdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCJuZ3VvaWR1bmcvbG9naW4iLCB7CiAgICAgICAgICAgICAgICBtYV9ORDogdXNlci51c2VybmFtZSwKICAgICAgICAgICAgICAgIE1hdGtoYXU6IHVzZXIucGFzc3dvcmQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gY29tbWl0KCJzZXRVc2VyIiwgdXNlci5nZXQoInVzZXJuYW1lIikpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgQ3JlYXRlUG9zdDogZnVuY3Rpb24gQ3JlYXRlUG9zdChfcmVmMiwgcG9zdCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBkaXNwYXRjaDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWYyLmRpc3BhdGNoOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgicG9zdCIsIHBvc3QpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goIkdldFBvc3RzIik7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Mi5zZW50KTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0sCiAgR2V0UG9zdHM6IGZ1bmN0aW9uIEdldFBvc3RzKF9yZWYzKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCJwb3N0cyIpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgY29tbWl0KCJzZXRQb3N0cyIsIHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKICBMb2dPdXQ6IGZ1bmN0aW9uIExvZ091dChfcmVmNCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgIHZhciBjb21taXQsIHVzZXI7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICAgICAgICAgIHVzZXIgPSBudWxsOwogICAgICAgICAgICAgIGNvbW1pdCgibG9nb3V0IiwgdXNlcik7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCk7CiAgICB9KSkoKTsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgc2V0VXNlcjogZnVuY3Rpb24gc2V0VXNlcihzdGF0ZSwgdXNlcm5hbWUpIHsKICAgIHN0YXRlLnVzZXIgPSB1c2VybmFtZTsKICB9LAogIHNldFBvc3RzOiBmdW5jdGlvbiBzZXRQb3N0cyhzdGF0ZSwgcG9zdHMpIHsKICAgIHN0YXRlLnBvc3RzID0gcG9zdHM7CiAgfSwKICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChzdGF0ZSwgdXNlcikgewogICAgc3RhdGUudXNlciA9IHVzZXI7CiAgfSwKICByZXRyaWV2ZVRva2U6IGZ1bmN0aW9uIHJldHJpZXZlVG9rZShzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgfSwKICBkZXN0cm95VG9rZW46IGZ1bmN0aW9uIGRlc3Ryb3lUb2tlbihzdGF0ZSkgewogICAgc3RhdGUudG9rZW4gPSBudWxsOwogICAgc3RhdGUudXNlciA9IG51bGw7CiAgfSwKICByZXRyaWV2ZVJlc3VsdDogZnVuY3Rpb24gcmV0cmlldmVSZXN1bHQoc3RhdGUsIHJlc3VsdCkgewogICAgc3RhdGUudXNlciA9IHJlc3VsdDsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["D:/Projects/example/template01/src/store/modules/auth.js"],"names":["axios","state","token","localStorage","getItem","user","loggedIn","getters","actions","checkLogin","context","post","ma_ND","username","Matkhau","password","then","response","data","result","setItem","commit","error","console","log","destroyToken","removeItem","LogIn","get","CreatePost","dispatch","GetPosts","LogOut","mutations","setUser","setPosts","posts","logout","retrieveToke","retrieveResult"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\n// import router from '@/router';\r\n\r\nconst state = {\r\n  token: localStorage.getItem(\"access_token\") || null,\r\n  user: null,\r\n  loggedIn:false,\r\n};\r\n\r\nconst getters = {\r\n  loggedIn(state) {\r\n    return state.token !== null;\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  checkLogin(context, user) {\r\n    axios\r\n      .post(\"nguoidung/login\", {\r\n        ma_ND: user.username,\r\n        Matkhau: user.password,\r\n      })\r\n      .then((response) => {\r\n        const token = response.data.result.token;\r\n        const result = response.data.result;\r\n        localStorage.setItem(\"access_token\", token);\r\n        context.commit(\"retrieveToke\", token);\r\n        context.commit(\"retrieveResult\", result);\r\n        // router.push('/home')\r\n        // console.log(response);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  },\r\n  destroyToken(context) {\r\n    localStorage.removeItem(\"access_token\");\r\n    context.commit(\"destroyToken\");\r\n  },\r\n\r\n  async LogIn({ commit }, user) {\r\n    await axios.post(\"nguoidung/login\", {\r\n      ma_ND: user.username,\r\n      Matkhau: user.password,\r\n    });\r\n    await commit(\"setUser\", user.get(\"username\"));\r\n  },\r\n\r\n  async CreatePost({ dispatch }, post) {\r\n    await axios.post(\"post\", post);\r\n    return await dispatch(\"GetPosts\");\r\n  },\r\n\r\n  async GetPosts({ commit }) {\r\n    let response = await axios.get(\"posts\");\r\n    commit(\"setPosts\", response.data);\r\n  },\r\n\r\n  async LogOut({ commit }) {\r\n    let user = null;\r\n    commit(\"logout\", user);\r\n  },\r\n};\r\n\r\nconst mutations = {\r\n  setUser(state, username) {\r\n    state.user = username;\r\n  },\r\n\r\n  setPosts(state, posts) {\r\n    state.posts = posts;\r\n  },\r\n  logout(state, user) {\r\n    state.user = user;\r\n  },\r\n  retrieveToke(state, token) {\r\n    state.token = token;\r\n  },\r\n  destroyToken(state) {\r\n    state.token = null;\r\n    state.user = null;\r\n  },\r\n  retrieveResult(state, result) {\r\n    state.user = result;\r\n  },\r\n};\r\n\r\nexport default {\r\n  state,\r\n  getters,\r\n  actions,\r\n  mutations,\r\n};\r\n"]}]}